<div class="content-wrapper">

  <div class="highlighted-section">
    <div class="container-fluid">

      <div class="row no-gutters">
        <div class="visualization-heading col-12">
          <div class="heading-info">
            <h2 class="heading-title">United States COVID-19 Dashboard </h2>
            <h2 class="heading-title">Cases & Fatalities by State </h2>
            <p class="heading-message">
              RealStack, Real-Time API Data for <b>{{today | date}}</b>
            </p>
          </div>
          <div class="heading-actions">
            <ul class="ali-deazy" *ngFor="let i of covidObj">
            <li class="covyli">Death Increase From Yesterday: {{i.deathIncrease | number}}
              </li>
              <li class="covyli">Total New Deaths: {{i.death | number}}
              </li>
              <li class="covyli">Increase In Positive Cases: {{i.positive | number}}
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="main-section">
    <div class="container-fluid">

      <div class="referrals-visualization visualizations-section">
        <div class="row no-gutters">
          <div class="visualization-heading col-12">
            <div class="heading-info">
              <h4 class="heading-title"> test</h4>
            </div>
            <div class="heading-actions">
              <div class="visualization-period-dropdown-selector" ngbDropdown placement="bottom-right">
                <button class="period-dropdown-toggle btn" ngbDropdownToggle>
                  This year
                  <mat-icon class="toggle-icon" svgIcon="half-arrow-down"></mat-icon>
                </button>
                <div class="period-dropdown" ngbDropdownMenu>
                  <button class="period-option" ngbDropdownItem>2019</button>

                </div>
              </div>
            </div>
          </div>

          <div class="col-12">
            <div class="visualization-chart" *ngIf="isBrowser" echarts [options]="referralSourceChartOptions" [theme]="'admin-template'"></div>
          </div>
        </div>
      </div>

<!--     <app-kpi-chart></app-kpi-chart>-->

      <div class="leads-visualization visualizations-section">
        <div class="row no-gutters">
          <div class="visualization-heading col-12">
            <div class="heading-info">
              <h4 class="heading-title">Leads</h4>
            </div>
            <div class="heading-actions">
              <ul class="visualization-period-selector nav">
                <li class="period-item nav-item">
                  <a class="period-action nav-link">This year</a>
                </li>

                <li class="period-item period-alt-item nav-item">
                  <a class="period-action nav-link">
                    <mat-icon class="calendar-icon" svgIcon="calendar"></mat-icon>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row no-gutters">

          <div class="visualization-table col-12 table-responsive">
            <table class="leads-table table table-borderless table-sm" mat-table matSort #leadsSort="matSort" [dataSource]="leadsTableDataSource">
              <ng-container matColumnDef="states">
                <th mat-header-cell *matHeaderCellDef> states </th>
                <td mat-cell *matCellDef="let element" class="user-row">
                </td>
              </ng-container>
              <ng-container matColumnDef="positive">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> positive </th>
                <td mat-cell *matCellDef="let element"> {{element.positive}} </td>
              </ng-container>
              <ng-container matColumnDef="death">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> death </th>
                <td mat-cell *matCellDef="let element"> {{element.death}} </td>
              </ng-container>
              <ng-container matColumnDef="deathIncrease">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> death increase</th>
                <td mat-cell *matCellDef="let element"> {{element.deathIncrease}} </td>
              </ng-container>
              <ng-container matColumnDef="inIcuCumulative">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> inIcuCumulative </th>
                <td mat-cell *matCellDef="let element"> {{element.inIcuCumulative}} </td>
              </ng-container>
              <ng-container matColumnDef="onVentilatorCurrently">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> onVentilatorCurrently </th>
                <td mat-cell *matCellDef="let element"> {{element.onVentilatorCurrently}} </td>
              </ng-container>
              <ng-container matColumnDef="hospitalized">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> hospitalized </th>
                <td [attr.cell-name]="'stage'" [attr.cell-value]="element.pending" mat-cell *matCellDef="let element">
                  <div ngbDropdown class="lead-stage">
                    <div class="lead-stage-toggle" ngbDropdownToggle>
                      <div class="lead-stage-value-wrapper">
                        <i class="fas fa-circle circle-icon"></i>
                        <span class="lead-stage-value">{{element.deathIncrease}}</span>
                      </div>
                      <mat-icon class="half-arrow-icon" svgIcon="half-arrow-down"></mat-icon>
                    </div>
                    <div ngbDropdownMenu>
                      <div ngbRadioGroup [(ngModel)]="element.pending">
                        <div ngbDropdownItem>
                          <label ngbButtonLabel class="stage-option">
                            <input ngbButton class="stage-option-radio" type="radio" [value]="'First contact'">
                            <span class="stage-option-text">First contact</span>
                          </label>
                        </div>
                        <div ngbDropdownItem>
                          <label ngbButtonLabel class="stage-option">
                            <input ngbButton class="stage-option-radio" type="radio" [value]="'Demo'">
                            <span class="stage-option-text">Demo</span>
                          </label>
                        </div>
                        <div ngbDropdownItem>
                          <label ngbButtonLabel class="stage-option">
                            <input ngbButton class="stage-option-radio" type="radio" [value]="'Negociations'">
                            <span class="stage-option-text">Negociations</span>
                          </label>
                        </div>
                        <div ngbDropdownItem>
                          <label ngbButtonLabel class="stage-option">
                            <input ngbButton class="stage-option-radio" type="radio" [value]="'Legals'">
                            <span class="stage-option-text">Legals</span>
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                </td>
              </ng-container>
              <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef> </th>
                <td mat-cell *matCellDef="let element">
                  <button class="btn" placement="bottom-right" popoverClass="actions-popover"><i class="actions-icon fas fa-ellipsis-h"></i></button>
                </td>
              </ng-container>
               <tr mat-header-row *matHeaderRowDef="leadsTableDisplayedColumns"></tr>
               <tr mat-row *matRowDef="let row; columns: leadsTableDisplayedColumns;"></tr>
            </table>
            <mat-paginator class="table-paginator" #leadsPaginator [pageSizeOptions]="[5, 10, 25]" [pageSize]="5"></mat-paginator>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
