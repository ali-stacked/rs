
<div class="row">
  <!--    <div class="col-12 chart-card">-->
  <div class="col-12">
    <div>
      <div class="chart-card-header">
        <span>Fatalities For Every Million,Country Comparison</span>
      </div>
      <!--            <div class="chart-card-body pie-grid">-->
      <div>
        <!-- <form  novalidate
               [formGroup]="donutForm">
          <div class="formGrid">
            <div>
              <label> USA Value
                <input
                        type="number" placeholder="Enter A Number"

                        formControlName="usValue">
              </label>
            </div>
            <div>
              <label> UK Value
                <input
                        type="number" placeholder="Enter A Number"

                        formControlName="ukValue">
              </label>
            </div>
            <div>
              <label> India Value
                <input
                        type="number" placeholder="Enter A Number"

                        formControlName="indiaValue">
              </label>
            </div>
            <div>
              <label> Italy Value
                <input
                        type="number" placeholder="Enter A Number"

                        formControlName="italyValue">
              </label>
            </div>
            <div>
              <label> China Value
                <input
                        type="number" placeholder="Enter A Number"

                        formControlName="chinaValue">
              </label>
            </div>
          </div>
        </form>
        <button type="button" class="open-button" (click)="openModal()">Open Modal</button> -->

        <!--        usName: 'United States',-->
<!--        usValue: 1204,-->
<!--        ukName: 'United Kingdom',-->
<!--        ukValue: 1348,-->
<!--        indiaName: 'India',-->
<!--        indiaValue: 110,-->
<!--        italyName: 'Italy',-->
<!--        italyValue: 1376,-->
<!--        chinaName: 'China',-->
<!--        chinaValue: 3-->
        <ngx-charts-pie-grid *ngIf="isBrowser"
                             [label]="'Fatalities'"
                             [scheme]="colorScheme"
                             [results]="donutData">
        </ngx-charts-pie-grid>
      </div>
    </div>
  </div>
</div>

<div class="content-wrapper">
  <div class="secondary-section">
    <div class="container-fluid">

      <div class="row">
        <div class="visualization-heading col-12">
          <div class="heading-info">
            <h2 class="heading-title">Be productive about your goals</h2>
            <p class="heading-message">
              Focus on what really matters, keep your work organized
            </p>
          </div>
        </div>
      </div>

      <div class="visualizations-section">
        <div class="tasks-board-visualization row">
          <div class="tasks-column col-12 col-lg-6 col-xl-4">
            <div class="column-heading">
              <h4 class="column-title">Marketing</h4>
              <span class="column-progress-message">{{completedMarketingTasks}} task completed out of {{tasks.marketing_tasks.length}}</span>
              <ngb-progressbar class="column-progress-bar" [value]="(completedMarketingTasks * 100) / tasks.marketing_tasks.length" ></ngb-progressbar>
            </div>
            <div class="tasks-list">
              <div *ngFor="let _task of tasks.marketing_tasks">
                <ng-container *ngTemplateOutlet="taskCard; context: { task: _task, tasksBoardForm: marketingTasksBoardForm }">
                </ng-container>
              </div>
            </div>
          </div>
          <div class="tasks-column col-12 col-lg-6 col-xl-4">
            <div class="column-heading">
              <h4 class="column-title">Sales</h4>
              <span class="column-progress-message">{{completedSalesTasks}} task completed out of {{tasks.sales_tasks.length}}</span>
              <ngb-progressbar class="column-progress-bar" [value]="(completedSalesTasks * 100) / tasks.sales_tasks.length" ></ngb-progressbar>
            </div>
            <div class="tasks-list">
              <div *ngFor="let _task of tasks.sales_tasks">
                <ng-container *ngTemplateOutlet="taskCard; context: { task: _task, tasksBoardForm: salesTasksBoardForm }">
                </ng-container>
              </div>
            </div>
          </div>
          <div class="tasks-column col-12 col-lg-6 col-xl-4">
            <div class="column-heading">
              <h4 class="column-title">Customer Support</h4>
              <span class="column-progress-message">{{completedCustomerSupportTasks}} task completed out of {{tasks.customer_support_tasks.length}}</span>
              <ngb-progressbar class="column-progress-bar" [value]="(completedCustomerSupportTasks * 100) / tasks.customer_support_tasks.length" ></ngb-progressbar>
            </div>
            <div class="tasks-list">
              <div *ngFor="let _task of tasks.customer_support_tasks">
                <ng-container *ngTemplateOutlet="taskCard; context: { task: _task, tasksBoardForm: customerSupportTasksBoardForm }">
                </ng-container>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="visualizations-section knowledge-articles-visualization">
        <div class="row">
          <div class="visualization-heading col-12">
            <div class="heading-info">
              <h4 class="heading-title">Your daily dose of knowledge</h4>
            </div>
          </div>
        </div>
        <div class="knowledge-articles-list row">
          <div class="knowledge-article-wrapper col-12 col-md-6 col-lg-4 col-xl-3" *ngFor="let article of articles">
            <div class="knowledge-article">
              <div class="article-cover-wrapper">
                <cc-aspect-ratio [ratio]="{w: 35, h: 23}">
                  <cc-image-shell class="cover-image" animation="spinner" [mode]="'cover'" [src]="article.featured_image" [alt]="'cover image'"></cc-image-shell>
                </cc-aspect-ratio>
              </div>
              <div class="article-info">
                <div class="author-image-wrapper">
                  <cc-aspect-ratio [ratio]="{w: 1, h: 1}">
                    <cc-image-shell class="author-image" animation="spinner" [src]="article.author.picture" [alt]="'author image'"></cc-image-shell>
                  </cc-aspect-ratio>
                </div>
                <div class="article-details">
                  <span class="author-name">{{ article.author.name }}</span>
                  <span class="article-date">{{ article.published_date }}</span>
                </div>
              </div>
              <h3 class="article-title">{{ article.title }}</h3>
              <span class="article-category badge" [attr.category]="article.category">{{ article.category }}</span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

</div>


<ng-template #popoverRef>
  <ul class="actions-popover-list list-unstyled">
    <li>
      <span>Send email</span>
    </li>
    <li>
      <span>Call user</span>
    </li>
    <li>
      <span>Conversation history</span>
    </li>
  </ul>
</ng-template>

<ng-template #taskCard let-task="task" let-tasksBoardForm="tasksBoardForm">
  <form [formGroup]="tasksBoardForm">
    <div class="task-item" [ngClass]="{'completed-task': tasksBoardForm.get(task.id).value}">
      <div class="task-status">
        <label class="status-checkbox btn" ngbButtonLabel>
          <input type="checkbox" formControlName="{{task.id}}" ngbButton>
        </label>
      </div>
      <div class="task-content">
        <div class="task-brief">
          <div class="task-assignee-wrapper">
            <cc-aspect-ratio [ratio]="{w: 1, h: 1}">
              <cc-image-shell class="assignee-image" animation="spinner" [src]="task.assignee.picture" [alt]="'assignee image'"></cc-image-shell>
            </cc-aspect-ratio>
          </div>
          <div class="task-details">
            <span class="task-assignee">Assigned to {{task.assignee.name}}</span>
            <span class="task-due">Due on {{task.due_date}}</span>
          </div>
          <span class="task-priority badge" [attr.priority]="task.priority">{{task.priority}}</span>
        </div>
        <div class="task-info">
          <span class="task-title">{{task.title}}</span>
          <p class="task-description">
            {{task.description}}
          </p>
        </div>
      </div>
    </div>
  </form>
</ng-template>
<app-footer></app-footer>
